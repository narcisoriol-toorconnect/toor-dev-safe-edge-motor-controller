_profile: stakeholder_requirement
_id: 9787d069-f874-4787-9024-12e9d66ab1cd
_label: STK_HMI-2
_parent_id: 06c12a2b-e182-46c1-9d6a-1a2924142594
acceptance_criteria: "- Attempting Start under any latched FAULT/EMERGENCY is blocked with HMI message, logged as rejected.\n- Speed setpoint clamped [0,100] and rate‑limited ≤ 20%/s; tests verify enforcement.\n- Debounce: ≤ 1 unintended activation per 10,000 presses in test harness.\n- Long‑press Start ≥ 1 s required; shorter presses ignored.\n- Acknowledge only succeeds when condition cleared; otherwise rejected with reason.\n- Every command generates a persistent log entry with outcome and reason."
brief: Limit operator actions to safe, clearly defined commands.
date_updated: 2025-12-12
dependencies:
  - bf9059b0-3735-4f90-adc2-6136d866b065
  - 459ec3dc-99e6-459e-b7c5-cb9f87bcaa0a
details: "Restrict operator actions to a safe, minimal set with interlocks. Allowed commands: Start, Stop, Acknowledge Fault, Mode Select (Stop/Run), Speed Setpoint (0–100%, step 1%). Interlocks: Start allowed only when no latched fault and all enables true; Acknowledge only when underlying condition cleared; Speed changes rate‑limited to ≤ 20%/s and clamped to allowed range. Input hygiene: 50 ms debounce; Start requires 1 s long‑press; Emergency stop (if present) overrides immediately. All commands logged (ASCII) with timestamp and result (accepted/rejected+reason)."
milestone: M1
notes:
  []
priority: medium
rationale: Restricting commands and enforcing interlocks prevents unsafe operator actions and provides an auditable control surface.
reference_sources:
  - cafffa52-97f4-4aff-8cfe-d816413c9dcc
status: proposed
type:
  - functional
  - safety